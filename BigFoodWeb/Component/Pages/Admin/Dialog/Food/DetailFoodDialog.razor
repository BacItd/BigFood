<MudDialog>
    <TitleContent>
        <MudText Style="font-size: 18px; font-weight: bold; text-transform: uppercase">Chi tiết đồ ăn</MudText>
    </TitleContent>
    <DialogContent>
        @if (Foods == null)
        {
            <MudText>Loading...</MudText>
        }
        else
        {
            <MudForm Spacing="5">
                <MudGrid Style="padding: 0; width: 100%">
                    <MudItem xl="6" Style="padding: 0; width: 100%">
                        <MudPaper Style="background-color: transparent; box-shadow: none">
                            <MudImage Style="width: 100%" Src="@Foods.ImageUrl" />
                        </MudPaper>
                    </MudItem>
                    <MudItem xl="6" Style="padding: 0; width: 100%">
                        <MudPaper Style="background-color: transparent; box-shadow: none">
                            <MudImage Style="width: 100%" Src="@Foods.QrCode" />
                        </MudPaper>
                    </MudItem>
                </MudGrid>
                <MudTextField Style="padding: 0" T="string" Label="Tên đồ ăn" Value="@Foods.Name" ReadOnly=true />
                <MudTextField Style="padding: 0" T="string" Label="Nguyên liệu" Value="@Foods.Ingredient" ReadOnly=true />
                <MudTextField Style="padding: 0" T="string" Label="Thể loại" Value="@Foods.CategoryId.ToString()" ReadOnly=true />
                <MudDatePicker Style="padding: 0" Label="Ngày tạo" @bind-Date="DateTimeByFood" ReadOnly=true DateFormat="dd.MM.yyyy" />
                <MudTimePicker Style="padding: 0" Label="Thời gian tạo" @bind-Time="TimeByFood" ReadOnly=true />
                <MudNumericField Style="padding: 0" Label="Giá bán" Value="@Foods.PriceCurrent" ReadOnly=true />
                <MudNumericField Style="padding: 0" Label="Giảm giá" Value="@Foods.PriceSale" ReadOnly=true />
                <MudNumericField Style="padding: 0" Label="Số lượng" Value="@Foods.Quantity" ReadOnly=true />
                <MudNumericField Style="padding: 0" Label="Số lượng đã bán" Value="@Foods.QuantitySold" ReadOnly=true />
            </MudForm>
        }
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel">Cancel</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter]
    private MudDialogInstance MudDialog { get; set; }

    private void Cancel() => MudDialog.Cancel();

    [Parameter]
    public string IdFood { get; set; }

    private DateTime? DateTimeByFood;
    private TimeSpan? TimeByFood;

    private Food? Foods { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Foods = await FoodServices.GetById(Guid.Parse(IdFood));
        DateTimeByFood = Foods.DateCreate;
        TimeByFood = Foods.DateCreate.TimeOfDay;
    }
}